{"version":3,"sources":["app.js","components/sign-in.js","components/sign-up.js","components/user-links.js","notes/notes.js","services/auth-interceptor.js","services/auth-token.js","services/current-user.js","services/notes-service.js","services/users-service.js","users/users.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\n  let notelyApp = angular.module('notely', [\n    'ui.router',\n    'notely.notes'\n  ]);\n\n  function notelyConfig($urlRouterProvider) {\n    $urlRouterProvider.otherwise('/notes/');\n  }\n\n  notelyConfig.$inject = ['$urlRouterProvider'];\n  notelyApp.config(notelyConfig);\n\n  notelyApp.constant('API_BASE', 'http://localhost:3030/');\n})();\n","angular.module('notely')\n  .directive('signIn', ['$state', 'UsersService', ($state, UsersService) => {\n\n    class SignInController {\n      constructor() {\n        this.user = {};\n      }\n\n      login() {\n        UsersService.login(this.user)\n          .then(function(_response) {\n            $state.go('notes.form', { noteId: undefined });\n          });\n      }\n    }\n\n    return {\n      scope: {},\n      controller: SignInController,\n      controllerAs: 'ctrl',\n      bindToController: true,\n      templateUrl: '/components/sign-in.html'\n    };\n  }]);\n","angular.module('notely')\n  .directive('signUp', ['$state', 'UsersService', ($state, UsersService) => {\n\n    class SignUpController {\n      constructor() {\n        this.user = {};\n      }\n      submit() {\n        UsersService.create(this.user)\n          .then(function(_response) {\n            $state.go('notes.form', { noteId: undefined });\n          });\n      }\n    }\n\n    return {\n      scope: {},\n      controller: SignUpController,\n      controllerAs: 'ctrl',\n      templateUrl: '/components/sign-up.html'\n    };\n  }]);\n","angular.module('notely')\n  .directive('userLinks', () => {\n    class UserLinksController {\n      constructor(AuthToken, CurrentUser) {\n        this.AuthToken = AuthToken;\n        this.CurrentUser = CurrentUser;\n      }\n\n      user() {\n        return this.CurrentUser.get();\n      }\n\n      signedIn() {\n        return !!(this.user()._id);\n      }\n\n      logout() {\n        this.CurrentUser.clear();\n        this.AuthToken.clear();\n      }\n    }\n    UserLinksController.$inject = ['AuthToken', 'CurrentUser'];\n\n    return {\n      scope: {},\n      controller: UserLinksController,\n      controllerAs: 'ctrl',\n      bindToController: true,\n      template: `\n        <div class=\"user-links\">\n          <div ng-show=\"ctrl.signedIn()\">\n            Signed in as {{ ctrl.user().name }}\n            |\n            <a ui-sref=\"sign-in\" ng-click=\"ctrl.logout()\">Logout</a>\n          </div>\n        </div>\n      `\n    };\n  });\n","(function() {\n  angular.module('notely.notes', [\n    'ui.router',\n    'textAngular'\n  ])\n  .config(notesConfig);\n\n  notesConfig.$inject = ['$stateProvider'];\n  function notesConfig($stateProvider) {\n    $stateProvider\n\n      .state('notes', {\n        url: '/notes',\n        templateUrl: '/notes/notes.html',\n        controller: NotesController,\n        resolve: {\n          userAuthenticated: [\n            '$state', '$q', '$timeout', 'CurrentUser',\n            function($state, $q, $timeout, CurrentUser) {\n              let deferred = $q.defer();\n              $timeout(function() {\n                if (CurrentUser.isSignedIn()) {\n                  deferred.resolve();\n                }\n                else {\n                  deferred.reject();\n                  $state.go('sign-in');\n                }\n              });\n            }\n          ],\n          notesLoaded: [\n            'NotesService', 'userAuthenticated',\n            function(NotesService, _userAuthenticated) {\n              return NotesService.fetch();\n            }\n          ]\n        }\n      })\n\n      .state('notes.form', {\n        url: '/:noteId',\n        templateUrl: '/notes/notes-form.html',\n        controller: NotesFormController\n      });\n  }\n\n  NotesController.$inject = ['$scope', '$state', 'NotesService'];\n  function NotesController($scope, $state, NotesService) {\n    $scope.notes = NotesService.getNotes();\n    $state.go('notes.form');\n  }\n\n  NotesFormController.$inject = ['$scope', '$state', 'NotesService'];\n  function NotesFormController($scope, $state, NotesService) {\n    $scope.note = NotesService.findById($state.params.noteId);\n    $scope.save = function() {\n      if ($scope.note._id) {\n        NotesService.update($scope.note);\n      }\n      else {\n        NotesService.create($scope.note).then(function(response) {\n          $state.go('notes.form', { noteId: response.data.note._id });\n        });\n      }\n    };\n    $scope.delete = function() {\n      NotesService.delete($scope.note).then(function() {\n        $state.go('notes.form', { noteId: undefined });\n      });\n    };\n  }\n})();\n","angular.module('notely')\n  .factory('AuthInterceptor', ['AuthToken', 'API_BASE',\n    function(AuthToken, API_BASE) {\n      return {\n        request: function(config) {\n          var token = AuthToken.get();\n          if (token && config.url.indexOf(API_BASE) > -1) {\n            config.headers.Authorization = token;\n          }\n          return config;\n        }\n      };\n    }\n  ]);\n\nangular.module('notely')\n  .config(['$httpProvider', function($httpProvider) {\n    return $httpProvider.interceptors.push('AuthInterceptor');\n  }]);\n","angular.module('notely')\n  .service('AuthToken', ['$window', ($window) => {\n\n    class AuthToken {\n      constructor() {\n        this.authToken = $window.localStorage.getItem('authToken');\n      }\n\n      set(token) {\n        this.authToken = token;\n        $window.localStorage.setItem('authToken', this.authToken);\n      }\n\n      get() {\n        return this.authToken;\n      }\n\n      clear() {\n        this.authToken = undefined;\n        $window.localStorage.removeItem('authToken');\n      }\n    }\n    return new AuthToken();\n    \n  }]);\n","angular.module('notely')\n  .service('CurrentUser', ['$window', ($window) => {\n\n    class CurrentUser {\n      constructor() {\n        this.currentUser = JSON.parse(\n          $window.localStorage.getItem('currentUser')\n        );\n      }\n\n      set(user) {\n        this.currentUser = user;\n        $window.localStorage.setItem(\n          'currentUser',\n          JSON.stringify(this.currentUser)\n        );\n      }\n\n      get() {\n        return this.currentUser || {};\n      }\n\n      clear() {\n        this.currentUser = undefined;\n        $window.localStorage.removeItem('currentUser');\n      }\n\n      isSignedIn() {\n        return !!(this.get()._id);\n      }\n    }\n    return new CurrentUser();\n\n  }]);\n","(function() {\n  angular.module('notely')\n    .service('NotesService', NotesService);\n\n  NotesService.$inject = ['$http', 'API_BASE'];\n  function NotesService($http, API_BASE) {\n    var _this = this;\n    _this.notes = [];\n\n    _this.fetch = function() {\n      return $http.get(`${API_BASE}notes`)\n        .then(\n          // Success\n          function(response) {\n            _this.notes = response.data;\n          },\n\n          // Failure\n          function(response) {\n            console.log(`aww, snap: ${response}`);\n          }\n        );\n    };\n\n    _this.getNotes = function() {\n      return _this.notes;\n    };\n\n    _this.create = function(note) {\n      var creationPromise = $http.post(`${API_BASE}notes`, {\n        note: note\n      });\n\n      creationPromise.then(function(response) {\n        _this.notes.unshift(response.data.note);\n      });\n\n      return creationPromise;\n    };\n\n    _this.update = function(note) {\n      return $http.put(`${API_BASE}notes/${note._id}`, {\n        note: {\n          title: note.title,\n          body_html: note.body_html\n        }\n      }).then(function(response) {\n        _this.replaceNote(response.data.note);\n      });\n    };\n\n    _this.delete = function(note) {\n      return $http.delete(`${API_BASE}notes/${note._id}`\n      ).then(function(response) {\n        _this.removeNote(response.data.note);\n      });\n    };\n\n    _this.removeNote = function(note) {\n      for (var i = 0; i < _this.notes.length; i++) {\n        if (_this.notes[i]._id === note._id) {\n          _this.notes.splice(i, 1);\n          return;\n        }\n      }\n    };\n\n    _this.replaceNote = function(updatedNote) {\n      for (var i = 0; i < _this.notes.length; i++) {\n        if (_this.notes[i]._id === updatedNote._id) {\n          _this.notes[i] = updatedNote;\n          return;\n        }\n      }\n    };\n\n    _this.findById = function(noteId) {\n      for (var i = 0; i < _this.notes.length; i++) {\n        // If the IDs match, return the current note\n        if (_this.notes[i]._id === noteId) {\n          return angular.copy(_this.notes[i]);\n        }\n      }\n      return {};\n    };\n  }\n}());\n","angular.module('notely')\n  .service('UsersService', [\n    '$http', 'API_BASE', 'AuthToken', 'CurrentUser',\n    ($http, API_BASE, AuthToken, CurrentUser) => {\n\n      class UsersService {\n        create(user) {\n          let userPromise = $http.post(`${API_BASE}users`, {\n            user: user\n          });\n          userPromise.then((response) => {\n            AuthToken.set(response.data.auth_token);\n            CurrentUser.set(response.data.user);\n          });\n          return userPromise;\n        }\n\n        login(user) {\n          let loginPromise = $http.post(`${API_BASE}sessions`, {\n            user: user\n          });\n          loginPromise.then((response) => {\n            AuthToken.set(response.data.auth_token);\n            CurrentUser.set(response.data.user);\n          });\n          return loginPromise;\n        }\n      }\n      return new UsersService();\n\n    }\n  ]);\n","{\n  let usersConfig = function($stateProvider) {\n    $stateProvider\n      .state('sign-up', {\n        url: '/sign-up',\n        template: '<sign-up></sign-up>'\n      })\n\n      .state('sign-in', {\n        url: '/sign-in',\n        template: '<sign-in></sign-in>'\n      });\n  };\n  usersConfig.$inject = ['$stateProvider'];\n\n  angular.module('notely')\n    .config(usersConfig);\n}\n"],"sourceRoot":"/source/"}